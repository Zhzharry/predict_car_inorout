## 方案一：SVD+QR+LU+LDA 传统数值分解+线性分类方案
### 一、方案核心思路
本方案以数值分解技术为核心，构建“预处理-特征筛选-高效求解-分类”的完整流程，适配实时检测、低计算开销的业务需求。核心逻辑为：通过SVD实现数据降噪与降维，去除传感器噪声和冗余信息；利用QR分解筛选与分类任务强相关的关键特征，降低模型复杂度；基于LU分解高效求解线性判别分析（LDA）的参数，避免直接矩阵求逆的数值不稳定问题；最终通过LDA完成样本类别映射，实现进地库、出地库、其他场景的三分类任务。

### 二、分步实施流程
#### （一）数据准备与预处理
1. **数据加载**：读取训练集`训练集数据.csv`和验证集`test文件夹`下的17个文件，分离训练集的特征矩阵（所有非labelArea列）与标签列（labelArea），明确验证集无标签的特性。
2. **数据拆分**：采用分层抽样方式将训练集按7:3比例拆分为训练子集与本地测试子集，确保两类子集的类别分布与原始训练集一致，避免因数据不平衡导致的模型偏倚。
3. **数据标准化**：对特征矩阵进行标准化处理（均值为0、方差为1），消除不同传感器特征的量纲差异，确保数值分解的效果不受特征尺度影响。

#### （二）SVD降噪与降维
1. **奇异值分解**：对标准化后的训练子集特征矩阵进行SVD分解，得到左奇异矩阵U、奇异值向量S和右奇异矩阵VT。
2. **奇异值筛选**：计算奇异值的累计贡献率（奇异值平方和的累计占比），筛选累计贡献率达到90%-95%的前k个奇异值，剔除小奇异值对应的噪声成分。
3. **低维重构**：基于筛选后的k个奇异值及对应的U、VT子矩阵，重构低维特征矩阵，实现数据降噪与降维的双重目标，输出降维后的训练子集与本地测试子集特征矩阵。

#### （三）QR分解筛选关键特征
1. **增广矩阵构造**：将降维后的训练子集特征矩阵与标签列拼接，构造增广矩阵，强化特征与标签的关联关系，提升特征筛选的针对性。
2. **QR分解执行**：对增广矩阵进行QR分解，得到正交矩阵Q和上三角矩阵R。
3. **特征重要性排序**：提取R矩阵中对应特征列的对角线元素，以元素幅值作为特征重要性的衡量标准（幅值越大，特征与标签关联性越强）。
4. **关键特征选择**：按幅值降序排序，保留前70%-80%的特征作为关键特征，输出筛选后的训练子集、本地测试子集特征矩阵及选中特征的索引（用于后续验证集特征筛选）。

#### （四）LU分解求解LDA参数
1. **LDA核心参数定义**：明确LDA的核心目标是寻找最优判别向量w，使样本在该向量方向上的类间散度最大、类内散度最小，转化为广义特征值问题求解。
2. **列选主元LU分解**：对LDA的类内协方差矩阵进行列选主元LU分解，将矩阵分解为置换矩阵P、单位下三角矩阵L和上三角矩阵U，避免因矩阵奇异导致的求解失败。
3. **线性方程组求解**：将广义特征值问题转化为线性方程组，通过LU分解的前向替换和后向替换步骤，高效求解判别向量w，同时加入微小正则项（如1e-6×单位矩阵）进一步保障数值稳定性。
4. **判别向量归一化**：对求解得到的判别向量w进行归一化处理，消除向量尺度对后续投影计算的影响。

#### （五）LDA分类与预测
1. **模型训练**：将筛选后的训练子集特征矩阵投影到判别向量w方向，计算各类别（0、1、2）在投影空间中的均值。
2. **本地测试预测**：将本地测试子集特征矩阵投影到同一判别向量方向，计算每个样本投影值与各类别投影均值的距离，将样本归为距离最近的类别，得到本地测试子集的预测标签。
3. **验证集预测**：对验证集的每个文件执行“标准化→SVD降维→QR特征筛选→投影计算→类别判断”的流程，为每个样本追加labelArea列，生成符合要求的预测结果文件。

#### （六）模型评估（适配作业4项评价指标）
1. **预测准确率**：计算本地测试子集预测标签与真实标签的一致率，同时结合实时检测约束——若出/入库前20秒至完全出/入库后40秒内未检测到对应类别，视为检测失败，计入错误预测。
2. **检测时延**：模拟实时场景，统计单样本预测的平均耗时（重复1000次取均值），以毫秒为单位输出结果，确保不使用未来数据。
3. **计算效率**：统计本地测试子集的整体预测耗时，计算单位时间内可处理的样本数量（样本/秒），评估模型的计算速度。
4. **模型大小**：统计模型核心参数量（判别向量w的长度），并按每个参数8字节的标准估算模型文件大小（转换为KB），评估模型的轻量化程度。